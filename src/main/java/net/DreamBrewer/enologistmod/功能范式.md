# 方块 (Block) 功能范式

## 1. 基础属性
```
// 材料类型 (Material)
Material.STONE, Material.METAL, Material.GLASS, Material.WOOD, Material.WOOL, etc.

// 硬度与抗爆性
Block.Properties.of(Material.STONE)
    .strength(2.0f, 6.0f) // 硬度, 抗爆性
    .requiresCorrectToolForDrops() // 需要正确工具才能掉落
    .sound(SoundType.STONE) // 声音类型
    .lightLevel(state -> 15) // 发光等级(0-15)
    .friction(0.6f) // 摩擦系数
    .speedFactor(0.8f) // 移动速度系数
    .jumpFactor(0.5f) // 跳跃高度系数
```
---

## 2. 交互功能
```
// 右键点击交互
@Override
public InteractionResult use(BlockState state, Level world, BlockPos pos, Player player, InteractionHand hand, BlockHitResult hit) {
    // 实现交互逻辑
    return InteractionResult.SUCCESS;
}

// 被破坏时触发
@Override
public void playerWillDestroy(Level world, BlockPos pos, BlockState state, Player player) {
    super.playerWillDestroy(world, pos, state, player);
}

// 被放置时触发
@Override
public void setPlacedBy(Level world, BlockPos pos, BlockState state, LivingEntity placer, ItemStack stack) {
    super.setPlacedBy(world, pos, state, placer, stack);
}
```
---

## 3. 方块实体 (BlockEntity)
```
// 创建方块实体类
public class CustomBlockEntity extends BlockEntity {
    // 实现数据存储、网络同步等
}

// 注册方块实体
public static final RegistryObject<BlockEntityType<CustomBlockEntity>> CUSTOM_BLOCK_ENTITY = 
    BLOCK_ENTITIES.register("custom", 
        () -> BlockEntityType.Builder.of(CustomBlockEntity::new, ModBlocks.CUSTOM_BLOCK.get()).build(null));
```
--- 

## 4. 状态与形状
```
// 方块状态 (BlockState)
@Override
protected void createBlockStateDefinition(StateDefinition.Builder<Block, BlockState> builder) {
    builder.add(FACING, POWERED); // 添加自定义属性
}

// 自定义碰撞箱
@Override
public VoxelShape getShape(BlockState state, BlockGetter world, BlockPos pos, CollisionContext context) {
    return Shapes.box(0, 0, 0, 1, 0.5, 1); // 半高方块
}
```
--- 

## 5. 特殊功能
```
// 红石信号相关
@Override
public boolean isSignalSource(BlockState state) {
    return true;
}

@Override
public int getSignal(BlockState state, BlockGetter world, BlockPos pos, Direction direction) {
    return state.getValue(POWERED) ? 15 : 0;
}

// 流体交互
@Override
public boolean canPlaceLiquid(BlockGetter world, BlockPos pos, BlockState state, Fluid fluid) {
    return true;
}
```
---

# 物品 (Item) 功能范式

## 1. 基础属性
```
// 物品属性
new Item.Properties()
    .tab(CreativeModeTab.TAB_MISC) // 创造模式标签页
    .stacksTo(16) // 最大堆叠数
    .durability(256) // 耐久度
    .rarity(Rarity.EPIC) // 稀有度
    .food(new FoodProperties.Builder() // 食物属性
        .nutrition(4)
        .saturationMod(0.3f)
        .effect(() -> new MobEffectInstance(MobEffects.POISON, 100), 1.0f)
        .build())
```
--- 

## 2. 交互功能
```
// 右键点击交互
@Override
public InteractionResultHolder<ItemStack> use(Level world, Player player, InteractionHand hand) {
    ItemStack itemstack = player.getItemInHand(hand);
    // 实现交互逻辑
    return InteractionResultHolder.success(itemstack);
}

// 实体交互
@Override
public InteractionResult interactLivingEntity(ItemStack stack, Player player, LivingEntity target, InteractionHand hand) {
    return InteractionResult.SUCCESS;
}

// 方块放置
@Override
public BlockPlaceContext updatePlacementContext(BlockPlaceContext context) {
    return context;
}
```
---

## 3. 渲染与模型
```
// 自定义渲染 (需要客户端代码)
@OnlyIn(Dist.CLIENT)
@Override
public void initializeClient(Consumer<IClientItemExtensions> consumer) {
    consumer.accept(new IClientItemExtensions() {
        @Override
        public BlockEntityWithoutLevelRenderer getCustomRenderer() {
            return new CustomItemRenderer();
        }
    });
}
```
--- 

## 4. 特殊物品类型
```
// 盔甲物品
public class CustomArmorItem extends ArmorItem {
    public CustomArmorItem(ArmorMaterial material, EquipmentSlot slot, Properties properties) {
        super(material, slot, properties);
    }
}

// 工具物品
public class CustomToolItem extends DiggerItem {
    public CustomToolItem(float attackDamage, float attackSpeed, Tier tier, 
                         TagKey<Block> mineableBlocks, Properties properties) {
        super(attackDamage, attackSpeed, tier, mineableBlocks, properties);
    }
}

// 食物物品
public class CustomFoodItem extends Item {
    public CustomFoodItem(Properties properties) {
        super(properties.food(new FoodProperties.Builder().nutrition(4).build()));
    }
}
```
--- 
